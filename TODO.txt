1. GNU 'Build System' (sic) copy'n'pasted files to sort out with 'master' copies
1.1 Need fixing
- ylwrap [could master based on that in automake]
- update-copyright
- useless-if-before-free
- gnupload
- ?gitlog-to-changelog (see automake/lib)
- compile (first found in gnulib/source/build-aux) [used a lot]
- texi2dvi (first found in bash/support) [seems to be used in gdb, texi
- texi2html (first found in bash/support) [seems to be used in gdb, gettext]
- rlvers.sh (first found in bash/support), seems readline-related [seems to be used in gdb's readline]
- mkdirs (first found in bash/support) [seems to be used in gdb's readline]

1.2 Problematic for reproducibility
- install-sh inside ccache
- likewise for dependencies for musl-cross-make (eg in binutils, gmp, gcc, etc)

1.3 Do not need fixing yet (only found in bash/support)
- printenv.sh
- mkclone
- fixlinks
- mkversion.sh

2. Duplicated libraries
2.1 One Solution is to use the idea of a 'source' package, eg 'source_zlib' and then copy into dependencies, as we can't build zlib for ccache or gcc in advance
2.2 Occurrences
	- zlib (seems to be in ccache, zlib, gcc, rsync and other locations)
		- version in rsync differs slightly from upstream so '-z' might not work when interoperating with non-Libertine Linux systems
2.3 Might become occurrences
	- readline in bash
	- termcap in bash
	- intl (gettext) in bash
	- popt in rsync
	- libev in audit_userspace

3. Networking

3.1 Further combines
	- resolv.conf (challenging)
	- nftables firewall

3.2 Check current creation, consider making part of pre cpio archive creation modification
	- /etc/hostname
	- /etc/dnsdomainname

4. Start up
	- hwclock on start up / shutdown
	- nftables
	- combine of inittab?
	- Support for getting a random seed from random.org

5. Packages to do

5.1 Broken
	autoconf213 and autoconf264 collide with autoconf
	audit_userspace does not support arm / arm64 (./configure switches need enabling if arm arch is detected)

5.2 Partly Done
	libertine_filesystem
		- Replace /usr/sbin/bridge.if-pre-up

5.3 Todo
	hitch / stunnel
	libseccomp
		- needed for rust / dpdk
	gcc / g++ as a system compiler
	llvm / clang as a system compiler or even as main compiler:
		- https://www.vultr.com/docs/how-to-install-llvm-and-clang-on-centos-6
		- http://ftp.math.utah.edu/pub/llvm/
		- need to compile cmake
			- https://gitlab.kitware.com/cmake/cmake
			- ./bootstrap && make && make install
	gpg v.1.x or 2?
	a rust compiler
	glibc compilation for stuff so broken it can only use glibc
		- eg rust's official packages
		- third party binaries
	patchelf
	openldap
		- libraries for sudo
		- libraries for openssh
	go_bootstrap
		- get Go to 1.4 and then 1.7 so that we can build https://github.com/cgt/blookup

5.4 For diagnostics
	dmidecode
	hwloc
	lshw - http://www.ezix.org/project/wiki/HardwareLiSter#Download  https://ezix.org/src/pkg/lshw
	? lscpu - part of util-linux

5.5 Probably not
	* acct (process accounting, http://www.gnu.org/software/acct/)
		* Seems unnecessary with auditd / auditctl

5.6 Versioning
	* Rework package versioning and hashing to use `.git` in package root; if not present, in `packages` or whatever
		* If no `.git`, ?.version in package root

6. ZFS
	- initialisation scripts need to detect if formatting required
	- configuration of pool with a given set of virtual devices
	- could be policy based (number of devices) or we just pick a default set of choices
	- Provide a way for packages to signal the need for a persistent storage location
	- examine what's needed to work with rsync.net's zfs send / receive
		- rsync.net has always had a "HN readers discount" which is quite substantial. Just email info@rsync.net and ask about it.
		- http://arstechnica.com/information-technology/2015/12/rsync-net-zfs-replication-to-the-cloud-is-finally-here-and-its-fast/
			- syncoid is sadly written in perl

6.1 Backups
	- explore using <https://borgbackup.readthedocs.io/en/stable/#> borg with rsync.net
	- sadly written in Python with a self-installer
	- also http://www.stavros.io/posts/holy-grail-backups/
	- explore tarsnap, too

7. Support installation via Grub2 / syslinux / lilo / whatever
	- boot vis BIOS from disk
	- boot via EFI from disk
	- boot via EFI shell
	- boot via EFI http:// download
		- http://ipxe.org/appnote/uefihttp
		- Needs UEFI 2.5, eg OVMF with HTTP_BOOT
		- iPXE
	- qemu / UEFI
		- OVMF https://wiki.ubuntu.com/UEFI/OVMF
	- 'boot' via Docker
	- 'boot' via chroot

7.1 iPXE Chainloading
	* Unflashed, vanilla BIOS with vanilla PXE ROM
		* Chainload undionly.kpxe which has been custom built and embeds a single HTTPS URL from which we retrieve an iPXE script
		* Need to be able to customise the HTTPS URL
		* Need to be able to generate a dnsmasq entry
		* Embed our cert.pem
		* Serve it using TFTP
		* Configure DHCP (eg dnsmasq) to provide this in DHCP options
		* http://ipxe.org/howto/chainloading
	* Flashed PXE ROM / modified BIOS
		* As above, but undionly.kpxe has been flashed into the BIOS / Network Card ROM; much more secure
	* Vultr
		* Provide an URL to an iPXE script; this may need to use HTTP (not sure)
		* <https://www.vultr.com/docs/ipxe-boot-feature>
	* UEFI legacy
		* Build a custom `ipxe.efi` (1)
		* Serve it using TFTP
		* Configure DHCP (eg dnsmasq) to provide this in DHCP options
		* http://ipxe.org/howto/chainloading
		* Very similar
	* UEFI 2.5+, eg OVMF with HTTP_BOOT
		* Configure DHCP to recognise
		* Serve it using a webserver over HTTP (!)
		* Binary `.efi` is the same as the above `ipxe.efi` (1)
		* <http://ipxe.org/appnote/uefihttp>
	* Build iPXE as part of UEFI firmware...
	* Linux UEFI boot - should work as an alternative to UEFI legacy and UEFI 2.5+

8. Security

8.1 Add libressl ssl_helper for wget
8.2 Encryption of cpio archive files with decryption at boot
	- Use ecryptfs https://wiki.archlinux.org/index.php/ECryptfs ?
	- Use the new ext4 encryption ?
	- Store the majority of the archive as a binary .img file, which we mount and pivot_root over?
	- See  ecryptfs-simple
	- Because of the way thngs work, we'd need either to leave busybox unencrypted or create two copies of it
	- dm-crypt
	- EncFS isn't really an option, as it exposes metadata and needs FUSE
8.3 ?dnscrypt-proxy with a local DNS cache
8.4 LDAP local cache for sudo and SSH logins, possibly console logins (but would seem to need PAM)
8.5 local forwarding mail server, so avoid DoS if mail service goes down
	- OpenSMTPD seems OK
8.7 Randomness To Do
	- Save the random seed to pstore? or EFI?
	- random number entropy from a USB key
		- http://pastebin.com/cvHkE1GC is a busybox patch that adds rngd
8.9 Apply ACLs, Attrs, and File Capabilities at start up
	- use a combined list
8.12 Review https://wiki.ubuntu.com/Security/Features
8.15 Add Prelude IDS support to audit_userspace `./configure --with-prelude` (http://www.prelude-siem.com/en/products/prelude-oss/) / https://www.prelude-siem.org/projects/prelude/files
	- check vs snort and other IDS...
8.16 Add libcap-ng to audit_userspace
8.17 Review auditd recommendations in https://serverfault.com/questions/470755/log-all-commands-run-by-admins-on-production-servers/475134#475134
8.18 Fix the use of --enable-default-pie
	- breaks
		- ZFS
		- OpenSSH ssh-keygen
		- the *build* version of gcc 6.3.0 (not host)
		- possibly the kernel
	- See Christian Seiler's comment here https://groups.google.com/forum/#!topic/linux.debian.devel/bca6RlraSgw for good insight on PIC and PIE and statics
8.20 PAX
	- paxctl / pax attrs and gradm (RBAC)
	- review PAX settings used in linux_prep.mk
8.21 Integrate git-crypt <https://www.agwa.name/projects/git-crypt/>
8.22 Add support for [Kafel](https://github.com/google/kafel) syscall filters and possibly nsjail (Also a google product)
8.23 Add support for [cvefind](https://github.com/mgaffney/cvefind) (will require a bootstrap of go)
	- add lists of cpe to packages
	- detect latest version of package (see lua-power for an approach that finds last tag)
	- have a list of CVE numbers that are known to be fixed
	- have a list of suppressed CVE numbers (eg does not apply, fix is broken, etc)
	- also look at [vFeed](https://github.com/toolswatch/vFeed)
8.24 Fix up grsecurity hidesym:-
``` grsecurity/Makefile:-
ifdef CONFIG_GRKERNSEC_HIDESYM
extra-y := grsec_hidesym.o
$(obj)/grsec_hidesym.o:
	@-chmod -f 500 /boot
	@-chmod -f 500 /lib/modules
	@-chmod -f 500 /lib64/modules
	@-chmod -f 500 /lib32/modules
	@-chmod -f 700 .
	@-chmod -f 700 $(objtree)
	@echo '  grsec: protected kernel image paths'
endif
```


9. Misc

9.1 Linux Improvements
	- Verify RTM_LOCKS / https://lwn.net/Articles/544125/ Skylake+ enables Intel TSX
	- taskset for 'whole-machine' daemons
		- what about httpd? inotifyd? dnsmasq?
			- we want to run on all BUT 0 if multi-CPU
		- doesn't work for init (runs on all CPUs w/o a patch)
	- Build zfs init scripts
	- Consider using UPX on some binaries

9.2 Wikipedia
	- Modify https://en.wikipedia.org/wiki/List_of_Linux_distributions_that_run_from_RAM
	- Modify https://en.wikipedia.org/wiki/List_of_free_and_open-source_software_packages

10 Rejected or Not in Scope
	- TPM tools (not common enough, known problems with randomness being secure)
	- GNU acct
	- Ubuntu pollinate (pollinate client is tightly coupled to dpkg and reveals too much about the host system)
	- SMACK, TOYO, SELinux, Apparmor in favour of gresecurity/PAX/RBAC
